{% extends 'base.html' %}

{% block content %}
<div class="container-fluid mt-4">
    <div class="row">
        <!-- Sidebar -->
        <div class="flex-shrink-0 p-3 bg-light" style="width: 280px;">
            <a href="/" class="d-flex align-items-center pb-3 mb-3 link-body-emphasis text-decoration-none border-bottom">
                <i class="bi bi-grid-fill pe-none me-2"></i>
                <span class="fs-5 fw-semibold">Inventario</span>
            </a>
            <ul class="list-unstyled ps-0">
                <li class="mb-1">
                    <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed" data-bs-toggle="collapse" data-bs-target="#ingredients-collapse" aria-expanded="false">
                        <i class="bi bi-calendar3 me-2"></i>Ingredientes
                    </button>
                    <div class="collapse" id="ingredients-collapse">
                        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                            <li><a href="#" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Weekly Plan</a></li>
                            <li><a href="#" class="link-body-emphasis d-inline-flex text-decoration-none rounded">History</a></li>
                        </ul>
                    </div>
                </li>
                <li class="mb-1">
                    <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed" data-bs-toggle="collapse" data-bs-target="#menus-collapse" aria-expanded="{% if active_tab == 'menus' %}true{% else %}false{% endif %}">
                        <i class="bi bi-calendar3 me-2"></i>Menús
                    </button>
                    <div class="collapse {% if active_tab == 'menus' %}show{% endif %}" id="menus-collapse">
                        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                            <li><a href="{% url 'menus' %}" class="link-body-emphasis d-inline-flex text-decoration-none rounded {% if active_tab == 'menus' %}active{% endif %}">Ver todos</a></li>
                            <li><a href="#" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Agregar</a></li>
                        </ul>
                    </div>
                </li>
                <li class="border-top my-3"></li>
                <li class="mb-1">
                    <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed" data-bs-toggle="collapse" data-bs-target="#users-collapse" aria-expanded="{% if active_tab == 'users' %}true{% else %}false{% endif %}">
                        <i class="bi bi-people me-2"></i>Usuarios
                    </button>
                    <div class="collapse {% if active_tab == 'users' %}show{% endif %}" id="users-collapse">
                        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                            <li><a href="{% url 'users' %}" class="link-body-emphasis d-inline-flex text-decoration-none rounded {% if active_tab == 'users' %}active{% endif %}">Ver todos</a></li>
                            <li><a href="{% url 'add_user' %}" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Agregar</a></li>
                        </ul>
                    </div>
                </li>
                <li class="border-top my-3"></li>
                <li class="mb-1">
                    <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed" data-bs-toggle="collapse" data-bs-target="#account-collapse" aria-expanded="false">
                        <i class="bi bi-person-circle me-2"></i>Cuenta
                    </button>
                    <div class="collapse" id="account-collapse">
                        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                            <li><a href="#" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Perfil</a></li>
                            <li><a href="#" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Configuración</a></li>
                            <li><a href="{% url 'logout' %}" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Cerrar sesión</a></li>
                        </ul>
                    </div>
                </li>
            </ul>
        </div>

        <!-- Main content -->
        <main class="col ms-sm-auto px-md-4">
            {% block dashboard_content %}
            {% endblock %}
        </main>
    </div>
</div>

<style>
.btn-toggle {
    padding: .25rem .5rem;
    font-weight: 600;
    background-color: transparent;
}
.btn-toggle:hover,
.btn-toggle:focus {
    color: rgba(0, 0, 0, .85);
    background-color: #d2f4ea;
}
.btn-toggle[aria-expanded="true"] {
    color: rgba(0, 0, 0, .85);
}
.btn-toggle-nav a {
    padding: .1875rem .5rem;
    margin-top: .125rem;
    margin-left: 1.25rem;
}
.btn-toggle-nav a:hover,
.btn-toggle-nav a:focus {
    background-color: #d2f4ea;
}
.btn-toggle-nav a.active {
    background-color: #d2f4ea;
    color: #000;
}
</style>
{% endblock %}